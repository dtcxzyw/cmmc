(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[346],{8354:function(t,e,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/summary",function(){return s(2728)}])},6408:function(t,e,s){"use strict";s.d(e,{Z:function(){return l}});var a=s(5893),n=s(7294),r=s(4184),c=s.n(r);function l(t){let{data:e,selected:s,onSelect:r,className:l}=t,[u,i]=(0,n.useState)(!1),[o,d]=(0,n.useState)(s),[w,m]=(0,n.useState)(!1),h=t=>{r(t),d(t),m(!1)},p=t=>{d(t),m(!0)},x=()=>{i(!0),w||d("")},N=()=>{i(!1),w||d(s)},f=e.filter(t=>t.includes(o)).map(t=>(0,a.jsx)("div",{className:c()("tw-p-2 tw-px-4 hover:tw-bg-blue-50",{"tw-bg-blue-100":t===s}),onMouseDown:()=>h(t),children:t},t));return(0,a.jsxs)("div",{className:c()("tw-relative",l),children:[(0,a.jsx)("div",{className:"tw-border tw-rounded",children:(0,a.jsx)("input",{className:"tw-w-full tw-p-2 tw-px-3 tw-appearance-none tw-outline-none tw-text-grey-800",value:o,onChange:t=>p(t.target.value),onFocus:()=>x(),onBlur:()=>N()})}),(0,a.jsx)("div",{className:c()("tw-invisible tw-absolute tw-top-100 tw-shadow tw-bg-white tw-rounded tw-overflow-y-auto tw-w-full tw-max-h-96 tw-mt-2",{"!tw-visible":u}),children:f})]})}},2473:function(t,e,s){"use strict";s.d(e,{C7:function(){return o},Dw:function(){return d},El:function(){return u},LE:function(){return i}});var a=s(7294),n=s(3015),r=s(1752),c=s.n(r);let{publicRuntimeConfig:l}=c()();function u(t,e){let[s,r]=(0,a.useState)(e||{});return(0,a.useEffect)(()=>{n.AVB(l.basePath+t).then(t=>r(t))},[t]),s}function i(t,e){return u("/".concat(t,"/data/").concat(e,"_perf.json"),{arm:{},arm_gcc:[{}]})}function o(){let t=u("/commits.json",{}),e=(0,a.useMemo)(()=>{if(void 0===t.head)return[];let e=[],s=t.head;for(;(s in t.data);)e.push(s),s=t.data[s].parent;return e.reverse()},[t]);return e}function d(t){return u("/".concat(t,"/summary.json"),{current:{},current_commit:"",previous:{},previous_commit:"",gcc:{}})}},2728:function(t,e,s){"use strict";s.r(e),s.d(e,{default:function(){return o}});var a=s(5893),n=s(7294);s(5152);var r=s(2473),c=s(6408),l=s(4184),u=s.n(l);function i(t){let{data:e,className:s}=t,r=(0,n.useMemo)(()=>{let t=e.map(t=>({delta:t.current-t.previous,delta_p:(t.current-t.previous)/t.previous,...t}));return t.sort((t,e)=>isNaN(t.delta_p)||isNaN(e.delta_p)?isNaN(t.delta_p)-isNaN(e.delta_p):e.delta_p-t.delta_p),t},[e]),c=r.map(t=>t.current).filter(t=>void 0!==t).some(t=>Math.round(t)!=t),l=t=>c?t.toFixed(2):t,i=u()("tw-border-b tw-border-gray-100 tw-p-2 tw-text-sm"),o=u()(i,"tw-text-right tw-font-mono"),d=(t,e,s)=>({backgroundColor:"rgb(".concat(t,", ").concat(e,", ").concat(s,")")}),w=t=>t[0].map((e,s)=>t.map(t=>t[s])),m=(t,e,s)=>w([t,e]).map(t=>{let[e,a]=t;return e+(a-e)*s}),h=t=>{if(isNaN(t))return{};t=Math.sign(t)*Math.sqrt(Math.abs(t))*1;let e=[255,255,255];return t<0?d(...m(e,[0,255,0],Math.min(1,-t))):d(...m(e,[255,0,0],Math.min(1,t)))},p=(0,n.useMemo)(()=>r.map(t=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:u()(i,"tw-text-gray-900"),children:t.name}),(0,a.jsx)("td",{className:o,children:t.previous}),(0,a.jsx)("td",{className:o,children:t.current}),(0,a.jsx)("td",{className:o,children:isNaN(t.delta)?null:l(t.delta)}),(0,a.jsx)("td",{className:u()(o,"!tw-p-0"),children:(0,a.jsx)("div",{className:"tw-p-2 tw-ml-auto tw-max-w-[6rem]",style:h(t.delta_p),children:isNaN(t.delta_p)?null:(100*t.delta_p).toFixed(2)+"%"})})]},t.name)),[r]);return(0,a.jsxs)("table",{className:u()("tw-w-[48rem]",s),children:[(0,a.jsx)("thead",{className:"tw-text-base",children:(0,a.jsxs)("tr",{className:"tw-text-right",children:[(0,a.jsx)("th",{className:"tw-text-left tw-px-2",children:"Testcase Name"}),(0,a.jsx)("th",{className:"tw-px-2",children:"Baseline"}),(0,a.jsx)("th",{className:"tw-px-2",children:"Current"}),(0,a.jsx)("th",{className:"tw-px-2",children:"Delta"}),(0,a.jsx)("th",{className:"tw-px-2",children:"Delta (%)"})]})}),(0,a.jsx)("tbody",{className:"tw-text-gray-800",children:p})]})}function o(){let t=(0,r.El)("/test_list.json",[]),e=(0,r.Dw)("arm"),[s,l]=(0,n.useState)("sysy_time"),[u,o]=(0,n.useState)("previous"),d=(t,e,s)=>t[e]?t[e][0][s]:void 0,w=t.map(t=>({name:t,current:d(e.current,t,s),previous:d(e[u],t,s)}));return(0,a.jsxs)("main",{className:"tw-container tw-mx-auto tw-p-4 tw-h-5/6",children:[(0,a.jsxs)("div",{className:"tw-flex tw-space-x-2 tw-justify-center",children:[(0,a.jsx)(c.Z,{data:["branch-load-misses:u","branch-loads:u","cycles:u","iTLB-load-misses:u","inst_retired:u","inst_spec:u","instructions:u","sysy_time","task-clock:u"],selected:s,onSelect:l,className:"tw-w-80"}),(0,a.jsx)(c.Z,{data:["previous","gcc"],selected:u,onSelect:o,className:"tw-w-80"})]}),(0,a.jsx)(i,{data:w,className:"tw-mx-auto tw-mt-5"})]})}}},function(t){t.O(0,[635,774,888,179],function(){return t(t.s=8354)}),_N_E=t.O()}]);