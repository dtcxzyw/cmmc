(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[744],{5530:function(t,e,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[target]/summary",function(){return s(9277)}])},6408:function(t,e,s){"use strict";s.d(e,{Z:function(){return i}});var n=s(5893),r=s(7294),a=s(4184),c=s.n(a);function i(t){let{data:e,selected:s,onSelect:a,className:i}=t,[l,u]=(0,r.useState)(!1),[o,d]=(0,r.useState)(s),[w,m]=(0,r.useState)(!1),h=t=>{a(t),d(t),m(!1)},p=t=>{d(t),m(!0)},x=()=>{u(!0),w||d("")},N=()=>{u(!1),w||d(s)},f=e.filter(t=>t.includes(o)).map(t=>(0,n.jsx)("div",{className:c()("tw-p-2 tw-px-4 hover:tw-bg-blue-50",{"tw-bg-blue-100":t===s}),onMouseDown:()=>h(t),children:t},t));return(0,n.jsxs)("div",{className:c()("tw-relative",i),children:[(0,n.jsx)("div",{className:"tw-border tw-rounded",children:(0,n.jsx)("input",{className:"tw-w-full tw-p-2 tw-px-3 tw-appearance-none tw-outline-none tw-text-grey-800",value:o,onChange:t=>p(t.target.value),onFocus:()=>x(),onBlur:()=>N()})}),(0,n.jsx)("div",{className:c()("tw-invisible tw-absolute tw-top-100 tw-shadow tw-bg-white tw-rounded tw-overflow-y-auto tw-w-full tw-max-h-96 tw-mt-2",{"!tw-visible":l}),children:f})]})}},2473:function(t,e,s){"use strict";s.d(e,{C7:function(){return d},Dw:function(){return w},LE:function(){return o},be:function(){return u},dO:function(){return l}}),s(7294),s(334);var n=s(1752),r=s.n(n),a=s(9734);let{basePath:c}=r()().publicRuntimeConfig,i=function(){for(var t=arguments.length,e=Array(t),s=0;s<t;s++)e[s]=arguments[s];return fetch(...e).then(t=>t.json())};function l(t){return({arm:["sysy_time","branch-load-misses:u","branch-loads:u","cycles:u","iTLB-load-misses:u","inst_retired:u","inst_spec:u","instructions:u","task-clock:u"],riscv:["sysy_time","task-clock","cycles","instructions","branch-instructions","branch-misses"]})[t]}function u(){let{data:t,error:e,isLoading:s}=(0,a.ZP)("".concat(c,"/test_list.json"),i);return{testList:t,isError:e,isLoading:s}}function o(t,e){let{data:s,error:n,isLoading:r}=(0,a.ZP)("".concat(c,"/").concat(t,"/data/").concat(e,"_perf.json"),i);return{testcases:s,isError:n,isLoading:r}}function d(){let{data:t,error:e,isLoading:s}=(0,a.ZP)("".concat(c,"/commits.json"),function(){for(var t=arguments.length,e=Array(t),s=0;s<t;s++)e[s]=arguments[s];return i(...e).then(t=>{let e=[],s=t.head;for(;(s in t.data);)e.push(s),s=t.data[s].parent;return e.reverse()})});return{commits:t,isError:e,isLoading:s}}function w(t){let{data:e,error:s,isLoading:n}=(0,a.ZP)("".concat(c,"/").concat(t,"/summary.json"),i);return{summary:e,isError:s,isLoading:n}}},9277:function(t,e,s){"use strict";s.r(e),s.d(e,{__N_SSG:function(){return o},default:function(){return d}});var n=s(5893),r=s(7294);s(5152);var a=s(2473),c=s(6408),i=s(4184),l=s.n(i);function u(t){let{data:e,className:s}=t,a=(0,r.useMemo)(()=>{let t=e.map(t=>({delta:t.current-t.previous,delta_p:(t.current-t.previous)/t.previous,...t}));return t.sort((t,e)=>isNaN(t.delta_p)||isNaN(e.delta_p)?isNaN(t.delta_p)-isNaN(e.delta_p):e.delta_p-t.delta_p),t},[e]),c=a.map(t=>t.current).filter(t=>void 0!==t).some(t=>Math.round(t)!=t),i=t=>c?t.toFixed(2):t,u=l()("tw-border-b tw-border-gray-100 tw-p-2 tw-text-sm"),o=l()(u,"tw-text-right tw-font-mono"),d=(t,e,s)=>({backgroundColor:"rgb(".concat(t,", ").concat(e,", ").concat(s,")")}),w=t=>t[0].map((e,s)=>t.map(t=>t[s])),m=(t,e,s)=>w([t,e]).map(t=>{let[e,n]=t;return e+(n-e)*s}),h=t=>{if(isNaN(t))return{};t=Math.sign(t)*Math.sqrt(Math.abs(t))*1;let e=[255,255,255];return t<0?d(...m(e,[0,255,0],Math.min(1,-t))):d(...m(e,[255,0,0],Math.min(1,t)))},p=(0,r.useMemo)(()=>a.map(t=>(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{className:l()(u,"tw-text-gray-900"),children:t.name}),(0,n.jsx)("td",{className:o,children:t.previous}),(0,n.jsx)("td",{className:o,children:t.current}),(0,n.jsx)("td",{className:o,children:isNaN(t.delta)?null:i(t.delta)}),(0,n.jsx)("td",{className:l()(o,"!tw-p-0"),children:(0,n.jsx)("div",{className:"tw-p-2 tw-ml-auto tw-max-w-[6rem]",style:h(t.delta_p),children:isNaN(t.delta_p)?null:(100*t.delta_p).toFixed(2)+"%"})})]},t.name)),[a]);return(0,n.jsxs)("table",{className:l()("tw-w-[48rem]",s),children:[(0,n.jsx)("thead",{className:"tw-text-base",children:(0,n.jsxs)("tr",{className:"tw-text-right",children:[(0,n.jsx)("th",{className:"tw-text-left tw-px-2",children:"Testcase Name"}),(0,n.jsx)("th",{className:"tw-px-2",children:"Baseline"}),(0,n.jsx)("th",{className:"tw-px-2",children:"Current"}),(0,n.jsx)("th",{className:"tw-px-2",children:"Delta"}),(0,n.jsx)("th",{className:"tw-px-2",children:"Delta (%)"})]})}),(0,n.jsx)("tbody",{className:"tw-text-gray-800",children:p})]})}var o=!0;function d(t){let{params:{target:e}}=t,{testList:s,isLoading:i}=(0,a.be)(),{summary:l,isLoading:o}=(0,a.Dw)(e),d=(0,a.dO)(e),[w,m]=(0,r.useState)(d[0]),[h,p]=(0,r.useState)("previous");if(i||o)return"Loading";let x=(t,e,s)=>t[e]?t[e][0][s]:void 0,N=s.map(t=>({name:t,current:x(l.current,t,w),previous:x(l[h],t,w)}));return(0,n.jsxs)("main",{className:"tw-container tw-mx-auto tw-p-4 tw-h-5/6",children:[(0,n.jsxs)("div",{className:"tw-flex tw-space-x-2 tw-justify-center",children:[(0,n.jsx)(c.Z,{data:d,selected:w,onSelect:m,className:"tw-w-80"}),(0,n.jsx)(c.Z,{data:["previous","gcc"],selected:h,onSelect:p,className:"tw-w-80"})]}),(0,n.jsx)(u,{data:N,className:"tw-mx-auto tw-mt-5"})]})}}},function(t){t.O(0,[108,774,888,179],function(){return t(t.s=5530)}),_N_E=t.O()}]);